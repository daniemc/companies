(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{67:function(s,t,a){"use strict";a.r(t);var e=a(3),i=a.n(e),r=(a(1),{name:"login-view",data:function(){return{form:new Form({email:"",password:""})}},methods:{login:function(){var s,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(this.form.post("/login",this.form));case 3:if(s=a.sent,t=s.data,200!==s.status){a.next=11;break}return this.$store.dispatch("saveToken",t.token),a.next=10,i.a.awrap(this.$store.dispatch("fetchUser"));case 10:this.$router.push({name:"home"});case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),null,this,[[0,13]])}}}),o=a(0),n=Object(o.a)(r,(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-box"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body login-card-body"},[a("p",{staticClass:"login-box-msg"},[s._v(s._s(s.$t("login-view.title")))]),s._v(" "),a("form",[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("email")},attrs:{type:"email",placeholder:s.$t("login-view.email")},domProps:{value:s.form.email},on:{input:function(t){t.target.composing||s.$set(s.form,"email",t.target.value)}}}),s._v(" "),s._m(0),s._v(" "),a("has-error",{attrs:{form:s.form,field:"email"}})],1),s._v(" "),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":s.form.errors.has("password")},attrs:{type:"password",placeholder:s.$t("login-view.password")},domProps:{value:s.form.password},on:{input:function(t){t.target.composing||s.$set(s.form,"password",t.target.value)}}}),s._v(" "),s._m(1),s._v(" "),a("has-error",{attrs:{form:s.form,field:"password"}})],1),s._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"}),s._v(" "),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(t){return t.preventDefault(),s.login(t)}}},[s._v(s._s(s.$t("login-view.login")))])])])]),s._v(" "),a("p",{staticClass:"mb-1"})])])])])}),[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"input-group-append"},[t("div",{staticClass:"input-group-text"},[t("span",{staticClass:"fas fa-envelope"})])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"input-group-append"},[t("div",{staticClass:"input-group-text"},[t("span",{staticClass:"fas fa-lock"})])])}],!1,null,"9a6aec6a",null);t.default=n.exports}}]);