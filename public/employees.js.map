{"version":3,"sources":["webpack:///./resources/js/components/employees/Employees.vue?2d95","webpack:///./resources/js/components/employees/Form.vue?33e2","webpack:///resources/js/components/employees/Form.vue","webpack:///./resources/js/components/employees/Form.vue","webpack:///./resources/js/components/employees/Form.vue?36c0","webpack:///./resources/js/components/employees/Employees.vue?a905","webpack:///resources/js/components/employees/Employees.vue","webpack:///./resources/js/components/employees/Employees.vue"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","inEdition","_v","_s","$t","attrs","on","resetForm","directives","name","rawName","value","form","expression","class","errors","has","domProps","$event","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","multiple","_l","company","c","key","id","updateEmployee","saveEmployee","pageName","pageBreadCrumb","employeeInEdition","employees","employee","first_name","last_name","email","phone","editEmployee","deleteEmployee","init","companies"],"mappings":"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","file":"employees.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('page-header',{attrs:{\"pageName\":_vm.pageName,\"pageBreadCrumb\":_vm.pageBreadCrumb}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-title\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-md-6\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 col-md-6 text-right\"},[_c('button',{staticClass:\"btn btn-success btn-md mt-3 mr-4\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#modal-employees-form\"},on:{\"click\":function($event){_vm.employeeInEdition = {}}}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\"\\n                                        \"+_vm._s(_vm.$t('employees-view.btn-new'))+\"\\n                                    \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table table-bordered table-hover table-condensed\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.first_name')))]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.last_name')))]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.email')))]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.phone')))]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.company')))]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.actions')))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.employees.data),function(employee,c){return _c('tr',{key:c},[_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(employee.first_name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(employee.last_name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(employee.email))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(employee.phone))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(employee.company.name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-primary btn-xs\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":\"#modal-employees-form\"},on:{\"click\":function($event){return _vm.editEmployee(employee.id)}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-danger btn-xs\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteEmployee(employee.id)}}},[_c('i',{staticClass:\"fas fa-trash\"})])])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"card-footer\"},[_c('pagination',{attrs:{\"data\":_vm.employees},on:{\"pagination-change-page\":_vm.init}})],1)])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"modal-employees-form\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('employees-form',{attrs:{\"inEdition\":_vm.inEdition,\"data\":_vm.employeeInEdition,\"companies\":_vm.companies},on:{\"onClearModal\":function($event){_vm.inEdition = false}}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"modal-content\">\n        <div class=\"modal-header\">\n            <h4 v-if=\"!inEdition\" class=\"modal-title\">{{ $t('employees-view.new-employee') }}</h4>\n            <h4 v-else class=\"modal-title\">{{ $t('employees-view.update-employee') }}</h4>\n            <button type=\"button\" class=\"close\" @click=\"resetForm\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">×</span>\n            </button>\n        </div>\n        <div class=\"modal-body\">\n            <form>\n                <div class=\"form-group\">\n                    <label for=\"employeeName\">{{ $t('employees-view.employee-fields.first_name') }}</label>\n                    <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        id=\"employeeName\"\n                        :class=\"{ 'is-invalid': form.errors.has('first_name') }\"\n                        v-model=\"form.first_name\"\n                        :placeholder=\"$t('employees-view.employee-fields.first_name')\">\n                        <has-error :form=\"form\" field=\"first_name\"></has-error>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"employeeLastName\">{{ $t('employees-view.employee-fields.last_name') }}</label>\n                    <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        id=\"employeeLastName\"\n                        :class=\"{ 'is-invalid': form.errors.has('last_name') }\"\n                        v-model=\"form.last_name\"\n                        :placeholder=\"$t('employees-view.employee-fields.last_name')\">\n                        <has-error :form=\"form\" field=\"last_name\"></has-error>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"employeeEmail\">{{ $t('employees-view.employee-fields.email') }}</label>\n                    <input\n                        type=\"email\"\n                        class=\"form-control\"\n                        id=\"employeeEmail\"\n                        :class=\"{ 'is-invalid': form.errors.has('email') }\"\n                        v-model=\"form.email\"\n                        :placeholder=\"$t('employees-view.employee-fields.email')\">\n                        <has-error :form=\"form\" field=\"email\"></has-error>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"employeePhone\">{{ $t('employees-view.employee-fields.phone') }}</label>\n                    <input\n                        type=\"text\"\n                        class=\"form-control\"\n                        id=\"employeePhone\"\n                        :class=\"{ 'is-invalid': form.errors.has('phone') }\"\n                        v-model=\"form.phone\"\n                        :placeholder=\"$t('employees-view.employee-fields.phone')\">\n                        <has-error :form=\"form\" field=\"phone\"></has-error>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"employeeCompany\">{{ $t('employees-view.employee-fields.company') }}</label>\n                    <select\n                        class=\"form-control\"\n                        id=\"employeeCompany\"\n                        :class=\"{ 'is-invalid': form.errors.has('company_id') }\"\n                        v-model=\"form.company_id\">\n                        <option\n                            v-for=\"(company, c) in companies\"\n                            :key=\"c\"\n                            :value=\"company.id\">{{ company.name }}</option>\n                    </select>\n                    <has-error :form=\"form\" field=\"company_id\"></has-error>\n                </div>\n            </form>\n        </div>\n        <div class=\"modal-footer justify-content-between\">\n            <button type=\"button\" class=\"btn btn-default\" @click=\"resetForm\">{{ $t('commons.close') }}</button>\n            <button v-if=\"!inEdition\" type=\"button\" @click=\"saveEmployee\" class=\"btn btn-primary\">{{ $t('commons.save') }}</button>\n            <button v-else type=\"button\" @click=\"updateEmployee\" class=\"btn btn-primary\">{{ $t('commons.update') }}</button>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'employees-form',\n        props: {\n            inEdition: {\n                type: Boolean,\n                default: false\n            },\n            data: {\n                type: Object,\n            },\n            companies: {\n                type: Array,\n            }\n        },\n        data() {\n            return {\n                form: new Form({\n                    first_name: '',\n                    last_name: '',\n                    email: '',\n                    phone: '',\n                    company_id: '',\n                })\n            }\n        },\n        watch: {\n            inEdition(newValue, oldValue) {\n                if (newValue && !oldValue) {\n                    if (Object.keys(this.$props.data).length > 0) {\n                        this.setFormData()\n                    }\n                }\n            }\n        },\n        methods: {\n            async saveEmployee() {\n                const { status } = await this.form.post('/employee')\n                if (status === 200) {\n                    this.$store.dispatch('fetchEmployees', { page: 1})\n                    this.$swal.fire({\n                        toast: true,\n                        position: 'bottom-end',\n                        showConfirmButton: false,\n                        timer: 3000,\n                        timerProgressBar: true,\n                        title: this.$t('messages.success'),\n                        text: this.$t('employees-view.messages.saved'),\n                        type: 'success',\n                    })\n                }\n            },\n            async updateEmployee() {\n                const { status } = await this.form.put(`/employee/${this.form.id}`)\n                if (status === 200) {\n                    this.$store.dispatch('fetchEmployees', { page: 1})\n                    this.$swal.fire({\n                        toast: true,\n                        position: 'bottom-end',\n                        showConfirmButton: false,\n                        timer: 3000,\n                        timerProgressBar: true,\n                        title: this.$t('messages.success'),\n                        text: this.$t('employees-view.messages.updated'),\n                        type: 'success',\n                    })\n                }\n            },\n            setFormData() {\n                const {\n                    id,\n                    first_name,\n                    last_name,\n                    email,\n                    phone,\n                    company_id\n                } = this.$props.data\n\n                this.form = new Form({\n                    id,\n                    first_name,\n                    last_name,\n                    email,\n                    phone,\n                    company_id\n                })\n            },\n            resetForm() {\n                $('#modal-employees-form').modal('hide')\n                this.form.clear()\n                this.form.reset()\n                this.form = new Form({\n                    first_name: '',\n                    last_name: '',\n                    email: '',\n                    phone: '',\n                    company_id: '',\n                })\n                this.$emit('onClearModal')\n            }\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=257a0016&scoped=true&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"257a0016\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(!_vm.inEdition)?_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t('employees-view.new-employee')))]):_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t('employees-view.update-employee')))]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":_vm.resetForm}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"employeeName\"}},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.first_name')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.first_name),expression:\"form.first_name\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.form.errors.has('first_name') },attrs:{\"type\":\"text\",\"id\":\"employeeName\",\"placeholder\":_vm.$t('employees-view.employee-fields.first_name')},domProps:{\"value\":(_vm.form.first_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"first_name\", $event.target.value)}}}),_vm._v(\" \"),_c('has-error',{attrs:{\"form\":_vm.form,\"field\":\"first_name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"employeeLastName\"}},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.last_name')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.last_name),expression:\"form.last_name\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.form.errors.has('last_name') },attrs:{\"type\":\"text\",\"id\":\"employeeLastName\",\"placeholder\":_vm.$t('employees-view.employee-fields.last_name')},domProps:{\"value\":(_vm.form.last_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"last_name\", $event.target.value)}}}),_vm._v(\" \"),_c('has-error',{attrs:{\"form\":_vm.form,\"field\":\"last_name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"employeeEmail\"}},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.email')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.email),expression:\"form.email\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.form.errors.has('email') },attrs:{\"type\":\"email\",\"id\":\"employeeEmail\",\"placeholder\":_vm.$t('employees-view.employee-fields.email')},domProps:{\"value\":(_vm.form.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"email\", $event.target.value)}}}),_vm._v(\" \"),_c('has-error',{attrs:{\"form\":_vm.form,\"field\":\"email\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"employeePhone\"}},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.phone')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.phone),expression:\"form.phone\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.form.errors.has('phone') },attrs:{\"type\":\"text\",\"id\":\"employeePhone\",\"placeholder\":_vm.$t('employees-view.employee-fields.phone')},domProps:{\"value\":(_vm.form.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"phone\", $event.target.value)}}}),_vm._v(\" \"),_c('has-error',{attrs:{\"form\":_vm.form,\"field\":\"phone\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"employeeCompany\"}},[_vm._v(_vm._s(_vm.$t('employees-view.employee-fields.company')))]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.company_id),expression:\"form.company_id\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.form.errors.has('company_id') },attrs:{\"id\":\"employeeCompany\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"company_id\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.companies),function(company,c){return _c('option',{key:c,domProps:{\"value\":company.id}},[_vm._v(_vm._s(company.name))])}),0),_vm._v(\" \"),_c('has-error',{attrs:{\"form\":_vm.form,\"field\":\"company_id\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer justify-content-between\"},[_c('button',{staticClass:\"btn btn-default\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.resetForm}},[_vm._v(_vm._s(_vm.$t('commons.close')))]),_vm._v(\" \"),(!_vm.inEdition)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveEmployee}},[_vm._v(_vm._s(_vm.$t('commons.save')))]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.updateEmployee}},[_vm._v(_vm._s(_vm.$t('commons.update')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Employees.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <page-header :pageName=\"pageName\" :pageBreadCrumb=\"pageBreadCrumb\"></page-header>\n        <div class=\"content\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card\">\n                            <div class=\"card-title\">\n                                <div class=\"row\">\n                                    <div class=\"col-sm-12 col-md-6\">\n                                    </div>\n                                    <div class=\"col-sm-12 col-md-6 text-right\">\n                                        <button\n                                            type=\"button\"\n                                            class=\"btn btn-success btn-md mt-3 mr-4\"\n                                            data-toggle=\"modal\"\n                                            data-target=\"#modal-employees-form\"\n                                            @click=\"employeeInEdition = {}\">\n                                            <i class=\"fas fa-plus\"></i>\n                                            {{ $t('employees-view.btn-new') }}\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"card-body\">\n                                <table class=\"table table-bordered table-hover table-condensed\">\n                                    <thead>\n                                        <tr>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.first_name') }}</th>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.last_name') }}</th>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.email') }}</th>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.phone') }}</th>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.company') }}</th>\n                                            <th class=\"text-center\">{{ $t('employees-view.employee-fields.actions') }}</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr v-for=\"(employee, c) in employees.data\" :key=\"c\" >\n                                            <td class=\"text-center\">{{ employee.first_name }}</td>\n                                            <td class=\"text-center\">{{ employee.last_name }}</td>\n                                            <td class=\"text-center\">{{ employee.email }}</td>\n                                            <td class=\"text-center\">{{ employee.phone }}</td>\n                                            <td class=\"text-center\">{{ employee.company.name }}</td>\n                                            <td class=\"text-center\">\n                                                <button type=\"button\" @click=\"editEmployee(employee.id)\" class=\"btn btn-primary btn-xs\" data-toggle=\"modal\" data-target=\"#modal-employees-form\">\n                                                    <i class=\"fas fa-edit\"></i>\n                                                </button>\n                                                <button type=\"button\" @click=\"deleteEmployee(employee.id)\" class=\"btn btn-danger btn-xs\">\n                                                    <i class=\"fas fa-trash\"></i>\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                            <div class=\"card-footer\">\n                                <pagination :data=\"employees\" @pagination-change-page=\"init\"></pagination>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"modal fade\" id=\"modal-employees-form\">\n            <div class=\"modal-dialog\">\n                <employees-form :inEdition=\"inEdition\" :data=\"employeeInEdition\" :companies=\"companies\" v-on:onClearModal=\"inEdition = false\"></employees-form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapGetters } from 'vuex'\n    import EmployeesForm from './Form'\n    import axios from 'axios'\n    export default {\n        name: 'employees-view',\n        components: {\n            'employees-form': EmployeesForm,\n        },\n        data() {\n            return {\n                pageName: this.$t('employees-view.name'),\n                pageBreadCrumb: [\n                    { name: this.$t('home-view.name'), active: false, url: '/home' },\n                    { name: this.$t('employees-view.name'), active: true, url: '/employees' },\n                ],\n                inEdition: false,\n                employeeInEdition: {}\n            }\n        },\n        created () {\n            this.init();\n        },\n        computed: mapGetters({\n            employees: 'employees',\n            companies: 'allCompanies',\n        }),\n        methods: {\n            init(page = 1) {\n                this.$store.dispatch('fetchEmployees', { page })\n                this.$store.dispatch('fetchAllCompanies')\n            },\n            editEmployee(id) {\n                this.inEdition = true\n                this.employeeInEdition = this.employees.data.find(employee => employee.id === id)\n            },\n            deleteEmployee(id) {\n                axios.delete(`/employee/${id}`)\n                    .then(({ status }) => {\n                        if (status === 200) {\n                            this.$store.dispatch('fetchEmployees', { page: 1})\n                            this.$swal.fire({\n                                toast: true,\n                                position: 'bottom-end',\n                                showConfirmButton: false,\n                                timer: 3000,\n                                timerProgressBar: true,\n                                title: this.$t('messages.success'),\n                                text: this.$t('employees-view.messages.deleted'),\n                                type: 'success',\n                            })\n                        }\n                    })\n            },\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./Employees.vue?vue&type=template&id=ee653c12&scoped=true&\"\nimport script from \"./Employees.vue?vue&type=script&lang=js&\"\nexport * from \"./Employees.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee653c12\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}